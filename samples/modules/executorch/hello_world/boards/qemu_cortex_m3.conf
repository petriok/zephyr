# Board-specific configuration for QEMU Cortex-M3
# ExecuTorch configuration

# Enable ARM backend for ExecuTorch
CONFIG_EXECUTORCH_BACKEND_ARM=y

# Memory pool sizes for ExecuTorch execution
# Very reduced sizes for QEMU Cortex-M3 environment with extremely limited memory (64KB total)
# Method allocator pool: 4KB (minimal for simple models)
CONFIG_EXECUTORCH_METHOD_ALLOCATOR_POOL_SIZE=4096
# Temporary allocator pool: 512B (minimal)  
CONFIG_EXECUTORCH_TEMP_ALLOCATOR_POOL_SIZE=512

# Model configuration
CONFIG_EXECUTORCH_MODEL_NAME="model_add.pte"

# QEMU-specific optimizations for minimal memory usage
# Reduce main stack size to save memory
CONFIG_MAIN_STACK_SIZE=4096

# Reduce system workqueue stack size
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=1024

# Disable optional features to save memory
CONFIG_PRINTK=y
CONFIG_EARLY_CONSOLE=y
CONFIG_CONSOLE=y
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y

# Memory optimization
CONFIG_HEAP_MEM_POOL_SIZE=8192

# Reduce number of system resources
CONFIG_NUM_COOP_PRIORITIES=8
CONFIG_NUM_PREEMPT_PRIORITIES=8

# Disable features we don't need
CONFIG_THREAD_MONITOR=n
CONFIG_THREAD_NAME=n
CONFIG_STATS=n 